!function(e,t){"use strict";var a=function(t,a){var o=t.ajax.url()||"",n=t.ajax.params();return n.action=a,o+"?"+e.param(n)};t.ext.buttons.excel={className:"buttons-excel",text:function(e){return'<i class="fa fa-file-excel-o"></i> '+e.i18n("buttons.excel",Botble.languages.tables.excel)},action:function(e,t){window.location=a(t,"excel")}},t.ext.buttons["export"]={extend:"collection",className:"buttons-export",text:function(e){return'<i class="fa fa-download"></i> '+e.i18n("buttons.export",Botble.languages.tables["export"])+'&nbsp;<span class="caret"/>'},buttons:["csv","excel","pdf"]},t.ext.buttons.csv={className:"buttons-csv",text:function(e){return'<i class="fa fa-file-excel-o"></i> '+e.i18n("buttons.csv",Botble.languages.tables.csv)},action:function(e,t){window.location=a(t,"csv")}},t.ext.buttons.pdf={className:"buttons-pdf",text:function(e){return'<i class="fa fa-file-pdf-o"></i> '+e.i18n("buttons.pdf",Botble.languages.tables.pdf)},action:function(e,t){window.location=a(t,"pdf")}},t.ext.buttons.print={className:"buttons-print",text:function(e){return'<i class="fa fa-print"></i> '+e.i18n("buttons.print",Botble.languages.tables.print)},action:function(e,t){window.location=a(t,"print")}},t.ext.buttons.reset={className:"buttons-reset",text:function(e){return'<i class="fa fa-undo"></i> '+e.i18n("buttons.reset",Botble.languages.tables.reset)},action:function(t,a){e("#dataTableBuilder tfoot input").val("").change(),a.search("").draw()}},t.ext.buttons.reload={className:"buttons-reload",text:function(e){return'<i class="fa fa-refresh"></i> '+e.i18n("buttons.reload",Botble.languages.tables.reload)},action:function(e,t){t.draw(!1)}},e(document).ready(function(){e(document).on("click",".deleteDialog",function(t){t.preventDefault(),e("#delete-crud-entry").data("section",e(this).data("section")),e("#delete-crud-modal").modal("show")}),e("#delete-crud-entry").on("click",function(t){t.preventDefault(),e("#delete-crud-modal").modal("hide");var a=e(this).data("section");e.ajax({url:a,type:"GET",success:function(t){t.error?Botble.showNotice("error",t.message,Botble.languages.notices_msg.error):(window.LaravelDataTables.dataTableBuilder.row(e('a[data-section="'+a+'"]').closest("tr")).remove().draw(),Botble.showNotice("success",t.message,Botble.languages.notices_msg.success))},error:function(e){Botble.handleError(e)}})}),e(document).on("click",".action-item",function(t){t.preventDefault();var a=e(this).find("span");console.log(a),a.length>1&&(a=a.find("span"));var o=a.data("action"),n=a.data("href");if("create"==o)window.location.href=n;else if("delete"==o)e("#delete-many-entry").data("href",n),e("#delete-many-modal").modal("show");else if("add-supper"==o||"invite"==o);else{var s=[];e(".checkboxes:checked").each(function(t){s[t]=e(this).val()}),e.ajax({url:n,type:"POST",data:{ids:s},success:function(t){t.error?Botble.showNotice("error",t.message,Botble.languages.notices_msg.error):(e.each(s,function(a,o){e(document).find(".group-checkable").prop("checked",!1),e.uniform.update(e(document).find(".group-checkable"));var n=e('.checkboxes[value="'+o+'"]');n.prop("checked",!1),e.uniform.update(n);var s="label-danger",l="label-success";1==t.status?n.closest("tr").find("td > span.status-label").removeClass(s).addClass(l).text(Botble.languages.tables.activated):n.closest("tr").find("td > span.status-label").removeClass(l).addClass(s).text(Botble.languages.tables.deactivated)}),Botble.showNotice("success",t.message,Botble.languages.notices_msg.success))},error:function(e){Botble.handleError(e)}})}e(this).closest(".dropdown-menu").hide()}),e("#delete-many-entry").on("click",function(t){t.preventDefault(),e("#delete-many-modal").modal("hide");var a=[];e(".checkboxes:checked").each(function(t){a[t]=e(this).val()}),e.ajax({url:e(this).data("href"),type:"POST",data:{ids:a},success:function(t){t.error?Botble.showNotice("error",t.message,Botble.languages.notices_msg.error):(e(document).find(".group-checkable").prop("checked",!1),e.uniform.update(e(document).find(".group-checkable")),e.each(a,function(t,a){window.LaravelDataTables.dataTableBuilder.row(e('.checkboxes[value="'+a+'"]').closest("tr")).remove().draw()}),Botble.showNotice("success",t.message,Botble.languages.notices_msg.success))},error:function(e){Botble.handleError(e)}})}),e(document).find(".dataTables_filter input[type=search]").prop("placeholder",Botble.languages.tables.filter.trim()),e(document).find(".dataTables_length select").select2({minimumResultsForSearch:1/0,width:70}).removeClass("form-control"),window.LaravelDataTables.dataTableBuilder&&window.LaravelDataTables.dataTableBuilder.on("draw.dt",function(){e(".tip").tooltip({placement:"top"}),e.fn.editable&&e(".editable").editable()}),e(document).on("change",".group-checkable",function(){var t=e(this).attr("data-set"),a=e(this).prop("checked");e(t).each(function(){a?e(this).prop("checked",!0):e(this).prop("checked",!1)}),e.uniform.update(t),e(this).uniform()}),e(document).on("click"," tbody td .row-details",function(){var t=e(this).parents("tr")[0];window.LaravelDataTables.dataTableBuilder.fnIsOpen(t)?(e(this).addClass("row-details-close").removeClass("row-details-open"),window.LaravelDataTables.dataTableBuilder.fnClose(t)):(e(this).addClass("row-details-open").removeClass("row-details-close"),window.LaravelDataTables.dataTableBuilder.fnOpen(t,null,"details"))}),e(document).on("click",".btn-reset-table",function(t){t.preventDefault(),e("#dataTableBuilder tfoot input").val("").change(),window.LaravelDataTables.dataTableBuilder.search("").draw()})})}(jQuery,jQuery.fn.dataTable);